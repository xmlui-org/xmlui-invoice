<Component name="SearchInvoicesAfter">

    <VStack marginTop="1rem">
        <DatePicker
            id="dateAfter"
            width="20rem"
            initialValue="2025-01-01"
            dateFormat="yyyy-MM-dd"
            onDidChange="(val) => console.log('Date selected:', val)"
        />

        <Fragment when="{dateAfter.value}">
            <DataSource
                id="invoicesAfter"
                url="/api/invoices/after/{dateAfter.value}"
                onLoaded="(data) => console.log('Invoices after date:', data)"
            />

            <Card>
                <VStack>
                    <Table data="{ invoicesAfter }">
                        <Column canSort="true" bindTo="name" header="Client" />
                        <Column canSort="true" bindTo="issue_date" header="Issue Date">
                            { window.formatDate($item.issue_date) }
                        </Column>
                        <Column canSort="true" header="Status">
                            <StatusBadge status="{$item.status}" />
                        </Column>
                        <Column canSort="true" bindTo="total" header="Total" >
                            ${$item.total}
                        </Column>
                    </Table>
                </VStack>
            </Card>
        </Fragment>
    </VStack>

</Component>